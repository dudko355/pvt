-- MySQL Script generated by MySQL Workbench
-- 10/03/16 14:20:51
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema company
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema company
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `company` DEFAULT CHARACTER SET utf8 ;
USE `company` ;

-- -----------------------------------------------------
-- Table `company`.`CAR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `company`.`CAR` (
  `idCar` INT NOT NULL AUTO_INCREMENT,
  `conditionCar` INT NOT NULL,
  `mark` VARCHAR(45) NOT NULL,
  `volume` INT NOT NULL,
  `mass` INT NOT NULL,
  `seatCount` INT NOT NULL,
  PRIMARY KEY (`idCar`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `company`.`ROL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `company`.`ROL` (
  `idROLE` INT NOT NULL AUTO_INCREMENT,
  `role` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idROLE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `company`.`USER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `company`.`USER` (
  `idClient` INT NOT NULL AUTO_INCREMENT,
  `role` INT NOT NULL,
  `login` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idClient`),
  INDEX `ROL_idx` (`role` ASC),
  CONSTRAINT `ROL`
    FOREIGN KEY (`role`)
    REFERENCES `company`.`ROL` (`idROLE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `company`.`ORDERS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `company`.`ORDERS` (
  `idOrder` INT NOT NULL AUTO_INCREMENT,
  `idClient` INT NOT NULL,
  `orderTarget` VARCHAR(45) NOT NULL,
  `distance` INT NOT NULL,
  `dateStart` DATE NOT NULL,
  `dateFinish` DATE NOT NULL,
  `volume` INT NULL,
  `mass` INT NULL,
  `seatCount` INT NULL,
  PRIMARY KEY (`idOrder`),
  INDEX `user_idx` (`idClient` ASC),
  CONSTRAINT `user`
    FOREIGN KEY (`idClient`)
    REFERENCES `company`.`USER` (`idClient`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `company`.`TRIP`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `company`.`TRIP` (
  `idOrder` INT NOT NULL AUTO_INCREMENT,
  `idClient` INT NOT NULL,
  `idTrip` INT NOT NULL,
  `tripTarget` VARCHAR(45) NOT NULL,
  `dateStart` DATE NOT NULL,
  `dateFinish` DATE NOT NULL,
  `distance` INT NOT NULL,
  `idCar` INT NOT NULL,
  `conditionTrip` INT NOT NULL,
  INDEX `car_idx` (`idCar` ASC),
  PRIMARY KEY (`idOrder`),
  CONSTRAINT `car`
    FOREIGN KEY (`idCar`)
    REFERENCES `company`.`CAR` (`idCar`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `company`.`DRIVER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `company`.`DRIVER` (
  `idDriver` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idDriver`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `company`.`DRIVER_CAR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `company`.`DRIVER_CAR` (
  `idDriver` INT NOT NULL,
  `idCar` INT NOT NULL,
  PRIMARY KEY (`idDriver`, `idCar`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `company`.`CAR`
-- -----------------------------------------------------
START TRANSACTION;
USE `company`;
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (1, 0, 'Volvo', 5,  5, 2);
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (2, 0, 'Maz', 10, 10, 4);
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (3, 0, 'Mercedes', 15, 15, 6);
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (4, 0, 'Renaught', 20, 20, 2);
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (5, 0, 'Maz', 25, 25, 4);
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (6, 0, 'Maz', 30, 30, 6);
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (7, 0, 'Maz', 35, 35, 2);
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (8, 0, 'Maz', 40, 40, 4);
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (9, -1, 'Maz', 45, 45, 6);
INSERT INTO `company`.`CAR` (`idCar`, `conditionCar`, `mark`, `volume`, `mass`, `seatCount`) VALUES (10, 1, 'Volvo', 50, 50, 2);

COMMIT;


-- -----------------------------------------------------
-- Data for table `company`.`ROL`
-- -----------------------------------------------------
START TRANSACTION;
USE `company`;
INSERT INTO `company`.`ROL` (`idROLE`, `role`) VALUES (1, 'admin');
INSERT INTO `company`.`ROL` (`idROLE`, `role`) VALUES (2, 'client');

COMMIT;


-- -----------------------------------------------------
-- Data for table `company`.`USER`
-- -----------------------------------------------------
START TRANSACTION;
USE `company`;
INSERT INTO `company`.`USER` (`idClient`, `role`, `login`, `password`) VALUES (1, 1, 'admin', '2110984');
INSERT INTO `company`.`USER` (`idClient`, `role`, `login`, `password`) VALUES (2, 2, 'alex', '111111');
INSERT INTO `company`.`USER` (`idClient`, `role`, `login`, `password`) VALUES (3, 2, 'root', '222222');

COMMIT;


-- -----------------------------------------------------
-- Data for table `company`.`ORDERS`
-- -----------------------------------------------------
START TRANSACTION;
USE `company`;
INSERT INTO `company`.`ORDERS` (`idOrder`, `idClient`, `orderTarget`, `distance`, `dateStart`, `dateFinish`, `volume`, `mass`, `seatCount`) VALUES (1, 3, 'Vena', 100, '2016-09-10', '2016-09-12', 5, 5, 1);
INSERT INTO `company`.`ORDERS` (`idOrder`, `idClient`, `orderTarget`, `distance`, `dateStart`, `dateFinish`, `volume`, `mass`, `seatCount`) VALUES (2, 2, 'Brest', 100, '2016-09-20', '2016-10-25', 2, 2, 2);
INSERT INTO `company`.`ORDERS` (`idOrder`, `idClient`, `orderTarget`, `distance`, `dateStart`, `dateFinish`, `volume`, `mass`, `seatCount`) VALUES (3, 3, 'Berlin', 100, '2016-09-19', '2016-10-26', 2, 3, 1);
INSERT INTO `company`.`ORDERS` (`idOrder`, `idClient`, `orderTarget`, `distance`, `dateStart`, `dateFinish`, `volume`, `mass`, `seatCount`) VALUES (4, 2, 'Minsk', 100, '2016-10-10', '2016-10-12', 2, 2, 2);
INSERT INTO `company`.`ORDERS` (`idOrder`, `idClient`, `orderTarget`, `distance`, `dateStart`, `dateFinish`, `volume`, `mass`, `seatCount`) VALUES (5, 3, 'Vena', 100, '2016-10-11', '2016-10-12', 2, 3, 1);
INSERT INTO `company`.`ORDERS` (`idOrder`, `idClient`, `orderTarget`, `distance`, `dateStart`, `dateFinish`, `volume`, `mass`, `seatCount`) VALUES (6, 2, 'Moskwa', 100, '2016-10-15', '2016-10-17', 2, 2, 2);
INSERT INTO `company`.`ORDERS` (`idOrder`, `idClient`, `orderTarget`, `distance`, `dateStart`, `dateFinish`, `volume`, `mass`, `seatCount`) VALUES (7, 2, 'Riga', 100, '2016-10-20', '2016-10-25', 2, 3, 1);
INSERT INTO `company`.`ORDERS` (`idOrder`, `idClient`, `orderTarget`, `distance`, `dateStart`, `dateFinish`, `volume`, `mass`, `seatCount`) VALUES (8, 2, 'Minsk', 100, '2016-10-27', '2016-10-29', 2, 2, 2);
INSERT INTO `company`.`ORDERS` (`idOrder`, `idClient`, `orderTarget`, `distance`, `dateStart`, `dateFinish`, `volume`, `mass`, `seatCount`) VALUES (9, 2, 'Vladivostok', 100, '2016-11-03', '2016-11-10', 2, 3, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `company`.`TRIP`
-- -----------------------------------------------------
START TRANSACTION;
USE `company`;
INSERT INTO `company`.`TRIP` (`idOrder`, `idClient`, `idTrip`, `tripTarget`, `dateStart`, `dateFinish`, `distance`, `idCar`, `conditionTrip`) VALUES (1, 3, 1, 'Vena', '2016-09-10', '2016-09-12', 100, 1, 1);
INSERT INTO `company`.`TRIP` (`idOrder`, `idClient`, `idTrip`, `tripTarget`, `dateStart`, `dateFinish`, `distance`, `idCar`, `conditionTrip`) VALUES (2, 2, 2, 'Brest', '2016-09-20', '2016-10-25', 100, 3, 0);
INSERT INTO `company`.`TRIP` (`idOrder`, `idClient`, `idTrip`, `tripTarget`, `dateStart`, `dateFinish`, `distance`, `idCar`, `conditionTrip`) VALUES (3, 3, 3, 'Berlin', '2016-09-19', '2016-10-26', 100, 4, 0);
INSERT INTO `company`.`TRIP` (`idOrder`, `idClient`, `idTrip`, `tripTarget`, `dateStart`, `dateFinish`, `distance`, `idCar`, `conditionTrip`) VALUES (4, 2, 4, 'Minsk', '2016-10-10', '2016-10-12', 100, 1, -1);
INSERT INTO `company`.`TRIP` (`idOrder`, `idClient`, `idTrip`, `tripTarget`, `dateStart`, `dateFinish`, `distance`, `idCar`, `conditionTrip`) VALUES (5, 3, 5, 'Vena', '2016-10-11', '2016-10-12', 100, 2, -1);
INSERT INTO `company`.`TRIP` (`idOrder`, `idClient`, `idTrip`, `tripTarget`, `dateStart`, `dateFinish`, `distance`, `idCar`, `conditionTrip`) VALUES (6, 2, 6, 'Moskwa', '2016-10-15', '2016-10-17', 100, 1, -1);
INSERT INTO `company`.`TRIP` (`idOrder`, `idClient`, `idTrip`, `tripTarget`, `dateStart`, `dateFinish`, `distance`, `idCar`, `conditionTrip`) VALUES (7, 2, 7, 'Riga', '2016-10-20', '2016-10-25', 100, 1, -1);
INSERT INTO `company`.`TRIP` (`idOrder`, `idClient`, `idTrip`, `tripTarget`, `dateStart`, `dateFinish`, `distance`, `idCar`, `conditionTrip`) VALUES (8, 2, 8, 'Minsk', '2016-10-27', '2016-10-29', 100, 1, -1);
INSERT INTO `company`.`TRIP` (`idOrder`, `idClient`, `idTrip`, `tripTarget`, `dateStart`, `dateFinish`, `distance`, `idCar`, `conditionTrip`) VALUES (9, 2, 9, 'Vladivostok', '2016-11-03', '2016-11-10', 100, 1, -1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `company`.`DRIVER`
-- -----------------------------------------------------
START TRANSACTION;
USE `company`;
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (1, 'Aleaksei');
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (2, 'Roman');
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (3, 'Gosha');
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (4, 'Vlad');
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (5, 'Sergey');
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (6, 'Yrii');
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (7, 'Misha');
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (8, 'alla');
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (9, 'Vasilii');
INSERT INTO `company`.`DRIVER` (`idDriver`, `name`) VALUES (10, 'Vlad');

COMMIT;


-- -----------------------------------------------------
-- Data for table `company`.`DRIVER_CAR`
-- -----------------------------------------------------
START TRANSACTION;
USE `company`;
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (1, 1);
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (2, 2);
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (3, 3);
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (4, 4);
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (5, 5);
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (6, 6);
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (7, 7);
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (8, 8);
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (9, 9);
INSERT INTO `company`.`DRIVER_CAR` (`idDriver`, `idCar`) VALUES (10, 10);

COMMIT;

